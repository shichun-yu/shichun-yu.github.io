(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{372:function(s,e,a){"use strict";a.r(e);var t=a(42),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"vue中配置scp-js自动打包部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue中配置scp-js自动打包部署"}},[s._v("#")]),s._v(" vue中配置scp.js自动打包部署")]),s._v(" "),a("h3",{attrs:{id:"安装依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖"}},[s._v("#")]),s._v(" 安装依赖")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install scp2 --save-dev\n")])])]),a("h3",{attrs:{id:"vue项目中新建-scp-js文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue项目中新建-scp-js文件"}},[s._v("#")]),s._v(" vue项目中新建 scp.js文件")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/* \nscp插件: 自动打包部署测试服务器\n维护: 石春雨\n*/\n\n\n'use strict'\n// 引入scp2\nvar client = require('scp2');\n// 下面三个插件是部署的时候控制台美化所用 可有可无\nconst ora = require('ora');\nconst chalk = require('chalk');\nconst spinner = ora(chalk.green('正在发布到服务器...'));\nspinner.start();\n\nclient.scp('./dist-test', {    // 本地打包文件的位置\n  \"host\": '192.168.33.224', // 服务器的IP地址\n  \"port\": '22',            // 服务器端口， 一般为 22\n  \"username\": 'root',       // 用户名\n  \"password\": 'Ezsale123.',     // 密码\n  \"path\": '/home/shared/fronted/erp_seller'  // 项目部署的服务器目标位置\n}, err =>{\n  spinner.stop();\n  if (!err) {\n    console.log(chalk.green(\"项目发布完毕!\"))\n  } else {\n    console.log(\"err\", err)\n  }\n})\n")])])]),a("h3",{attrs:{id:"package-json配置命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#package-json配置命令"}},[s._v("#")]),s._v(" package.json配置命令")]),s._v(" "),a("p",[s._v("scp: 执行scp.js"),a("br"),s._v("\nd: 先执行打包测试环境再执行上传服务器")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    "scp": "node scp.js",\n    "d": "npm run test && npm run scp"\n')])])])])}),[],!1,null,null,null);e.default=n.exports}}]);